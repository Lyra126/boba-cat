[gd_scene load_steps=14 format=3 uid="uid://ceqg4sr663xx2"]

[ext_resource type="Script" path="res://scenes/FinalStation/FinalStation.gd" id="1_ixfov"]
[ext_resource type="Texture2D" uid="uid://5grujjlh3pn5" path="res://assets/final_scene.png" id="2_pjje5"]
[ext_resource type="Texture2D" uid="uid://oei024m3g7qe" path="res://assets/case.png" id="3_c3al2"]
[ext_resource type="Script" path="res://scenes/FinalStation/finalcup.gd" id="3_fdyuf"]
[ext_resource type="Texture2D" uid="uid://bc4d8sl6v755m" path="res://assets/liquid_station/assets/front_cup.png" id="4_hdwhh"]
[ext_resource type="Texture2D" uid="uid://21cd7rwmx4u3" path="res://assets/liquid_station/assets/back_cup.png" id="5_gn2qx"]
[ext_resource type="Texture2D" uid="uid://cod1hk81g17u3" path="res://assets/normalBack.png" id="6_d1lop"]
[ext_resource type="Texture2D" uid="uid://c5nhvdg6r8njc" path="res://assets/pressedBack.png" id="7_x6tj0"]
[ext_resource type="Texture2D" uid="uid://ci7aa37fsuf7k" path="res://assets/hoverBack.png" id="8_p3bsi"]

[sub_resource type="GDScript" id="GDScript_14f8c"]
script/source = "extends StaticBody2D


# Called when the node enters the scene tree for the first time.
func _ready():
	modulate = Color(Color.MEDIUM_AQUAMARINE, 0.7)

# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta):
	#print(global_position)
	pass

func select():
	for child in get_tree().get_nodes_in_group(\"droppable\"):
		child.deselect()
	modulate = Color.BLUE

func deselect():
	modulate = Color.WHITE
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ijsh8"]
size = Vector2(354, 487.883)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_c37ek"]
size = Vector2(334, 481.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_k3fie"]
size = Vector2(244.5, 382.75)

[node name="FinalStation" type="Node2D"]
position = Vector2(807, 450)
scale = Vector2(0.632565, 0.618355)
script = ExtResource("1_ixfov")

[node name="TextureRect" type="TextureRect" parent="."]
offset_left = -1271.0
offset_top = -722.0
offset_right = 1259.0
offset_bottom = 735.0
texture = ExtResource("2_pjje5")
metadata/_edit_use_anchors_ = true

[node name="case" type="Sprite2D" parent="."]
position = Vector2(79.0432, 4.85161)
scale = Vector2(0.424686, 0.484817)
texture = ExtResource("3_c3al2")

[node name="SubmitOrder" type="Button" parent="."]
offset_left = 887.0
offset_top = 546.0
offset_right = 1215.0
offset_bottom = 673.0
text = "Submit Order"
metadata/_edit_use_anchors_ = true

[node name="cup" type="Node2D" parent="."]
position = Vector2(-105, 88)
scale = Vector2(0.75, 0.75)
script = ExtResource("3_fdyuf")

[node name="cup_spot" type="StaticBody2D" parent="cup" groups=["cup_drop", "droppable"]]
script = SubResource("GDScript_14f8c")

[node name="CollisionShape2D" type="CollisionShape2D" parent="cup/cup_spot"]
position = Vector2(-21, 377)
shape = SubResource("RectangleShape2D_ijsh8")
one_way_collision_margin = 0.0

[node name="cup_sprite" type="Node2D" parent="cup"]

[node name="FrontCup" type="Sprite2D" parent="cup/cup_sprite"]
z_index = 5
position = Vector2(-18, 362)
scale = Vector2(0.641872, 0.641872)
texture = ExtResource("4_hdwhh")

[node name="BackCup" type="Sprite2D" parent="cup/cup_sprite"]
position = Vector2(-18, 362)
scale = Vector2(0.642054, 0.642054)
texture = ExtResource("5_gn2qx")

[node name="cup_pick_up" type="Area2D" parent="cup/cup_sprite"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="cup/cup_sprite/cup_pick_up"]
position = Vector2(-23, 376.25)
shape = SubResource("RectangleShape2D_c37ek")

[node name="AttachLid" type="Area2D" parent="." groups=["droppable"]]

[node name="CollisionShape2D" type="CollisionShape2D" parent="AttachLid"]
position = Vector2(-814.25, 294.625)
shape = SubResource("RectangleShape2D_k3fie")

[node name="Back" type="TextureButton" parent="."]
offset_left = -1272.74
offset_top = 384.525
offset_right = -272.743
offset_bottom = 1384.53
scale = Vector2(0.4, 0.4)
texture_normal = ExtResource("6_d1lop")
texture_pressed = ExtResource("7_x6tj0")
texture_hover = ExtResource("8_p3bsi")
metadata/_edit_use_anchors_ = true

[connection signal="pressed" from="SubmitOrder" to="." method="_on_submit_order_pressed"]
[connection signal="body_entered" from="cup/cup_sprite/cup_pick_up" to="cup" method="_on_cup_pick_up_body_entered"]
[connection signal="body_exited" from="cup/cup_sprite/cup_pick_up" to="cup" method="_on_cup_pick_up_body_exited"]
[connection signal="input_event" from="cup/cup_sprite/cup_pick_up" to="cup" method="_on_cup_pick_up_input_event"]
[connection signal="body_entered" from="AttachLid" to="." method="_on_attach_lid_body_entered"]
[connection signal="body_exited" from="AttachLid" to="." method="_on_attach_lid_body_exited"]
[connection signal="input_event" from="AttachLid" to="." method="_on_attach_lid_input_event"]
[connection signal="pressed" from="Back" to="." method="_on_back_pressed"]
